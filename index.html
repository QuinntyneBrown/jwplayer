<!DOCTYPE html>
<html>
<head>
    <title>JW Player Handler Implementation using TypeScript and Webpack</title>
	<meta charset="utf-8" />
</head>
<body>

    <div jw-player
         [height]="420"
         [width]="680"
         [nextupoffset]="-10"
         [aspectRatio]="16:9"
         [autostart]="false"
         [playlist]='[{ 
            "file": "https://www.youtube.com/watch?v=WWR9nxVx1ec", 
            "type": "youtube", 
            "mediaid": "R8NWhf9iiKk", 
            "title": "Rob Wormald (@robwormald): Angular & RxJS at ng-europe 2016" 
         }]'></div>

    <script src="vendor/jwplayer.js"></script>
    <script src="dist/jwplayerhandler.js"></script>
    <script src="vendor/moment.min.js"></script>
    <script>

        var play = false;

        document.addEventListener("jw-connectedcallback", function (event) {
            console.log("activated: " + moment().format('MMMM Do YYYY, h:mm:ss a'));            
            jwplayerinstance = event.jwplayerinstance;
        });

        document.addEventListener("jw-play", function (event) {
            console.log("play:" + moment().format('MMMM Do YYYY, h:mm:ss a'));
            if (!play) { console.log("initial play"); play = true; }
        });

        document.addEventListener("DOMContentLoaded", function (event) {
            jwplayerhandler.bootstrap(document.body,
                "RQ+gASdSAzcEhqeSCgQ7M7hHOXdBC1Jdsl+PWg==",
                "[Your Unique Store Key]",
                true);
        });
    </script>
</body>
</html>
